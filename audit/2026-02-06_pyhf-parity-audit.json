{
  "generated_at": "2026-02-06 22:06:21",
  "nextstat_mle_config": {
    "m": 10,
    "max_iter": 1000,
    "tol": 1e-06
  },
  "pyhf_fit_options": {
    "do_stitch": false,
    "maxiter": 100000,
    "method": "SLSQP"
  },
  "summary": {
    "n_bad": 18,
    "n_ok": 5,
    "n_pyhf_workspaces": 8,
    "n_total": 23
  },
  "workspaces": [
    {
      "diffs": {},
      "errors": [
        {
          "traceback": "Traceback (most recent call last):\n  File \"/Users/andresvlc/WebDev/nextstat.io/tests/audit_pyhf_parity.py\", line 201, in audit_workspace\n    model_pyhf = ws_pyhf.model(\n        measurement_name=measurement_name,\n    ...<3 lines>...\n        },\n    )\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/workspace.py\", line 447, in model\n    return Model(modelspec, **config_kwargs)\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/pdf.py\", line 774, in __init__\n    modifiers, _nominal_rates = _nominal_and_modifiers_from_spec(\n                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        modifier_set, self.config, self.spec, self.batch_size\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/pdf.py\", line 160, in _nominal_and_modifiers_from_spec\n    finalizd_builder_data[k] = modifiers_builders[k].finalize()\n                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/modifiers/histosys.py\", line 88, in finalize\n    raise InvalidModifier(\n    ...<4 lines>...\n    )\npyhf.exceptions.InvalidModifier: The 'background' sample histosys modifier 'shape_sys' has data shape inconsistent with the sample.\nbackground has 'data' of length 2 but shape_sys has 'lo_data' of length 2 and 'hi_data' of length 1.\n",
          "where": "pyhf_model"
        }
      ],
      "meta": {
        "measurement_name": "m",
        "n_channels": 1,
        "n_measurements": 1,
        "n_observations": 1,
        "version": "1.0.0"
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/bad_histosys_template_length_mismatch.json",
      "reason": "pyhf_model_error",
      "timings": {
        "load_json_s": 0.00019695842638611794
      }
    },
    {
      "diffs": {},
      "errors": [
        {
          "traceback": "Traceback (most recent call last):\n  File \"/Users/andresvlc/WebDev/nextstat.io/tests/audit_pyhf_parity.py\", line 226, in audit_workspace\n    model_ns = nextstat.HistFactoryModel.from_workspace(json.dumps(ws))\nValueError: Failed to create model: Validation error: Channel 'singlechannel' observations length mismatch: expected 2, got 1\n",
          "where": "nextstat_model"
        }
      ],
      "meta": {
        "measurement_name": "GaussExample",
        "n_channels": 1,
        "n_measurements": 1,
        "n_observations": 1,
        "version": "1.0.0"
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/bad_observations_length_mismatch.json",
      "reason": "nextstat_model_error",
      "timings": {
        "load_json_s": 0.00017041712999343872,
        "pyhf_model_s": 0.00543541694059968
      }
    },
    {
      "diffs": {},
      "errors": [
        {
          "traceback": "Traceback (most recent call last):\n  File \"/Users/andresvlc/WebDev/nextstat.io/tests/audit_pyhf_parity.py\", line 201, in audit_workspace\n    model_pyhf = ws_pyhf.model(\n        measurement_name=measurement_name,\n    ...<3 lines>...\n        },\n    )\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/workspace.py\", line 447, in model\n    return Model(modelspec, **config_kwargs)\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/pdf.py\", line 774, in __init__\n    modifiers, _nominal_rates = _nominal_and_modifiers_from_spec(\n                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        modifier_set, self.config, self.spec, self.batch_size\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/pdf.py\", line 149, in _nominal_and_modifiers_from_spec\n    nominal.append(c, s, defined_samp)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/andresvlc/WebDev/nextstat.io/.venv/lib/python3.13/site-packages/pyhf/pdf.py\", line 72, in append\n    raise exceptions.InvalidModel(\n        f'expected {self.config.channel_nbins[channel]} size sample data but got {len(nom)}'\n    )\npyhf.exceptions.InvalidModel: expected 2 size sample data but got 1\n",
          "where": "pyhf_model"
        }
      ],
      "meta": {
        "measurement_name": "GaussExample",
        "n_channels": 1,
        "n_measurements": 1,
        "n_observations": 1,
        "version": "1.0.0"
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/bad_sample_length_mismatch.json",
      "reason": "pyhf_model_error",
      "timings": {
        "load_json_s": 9.574973955750465e-05
      }
    },
    {
      "diffs": {
        "bestfit_max_abs_diff": 0.00031101275707051657,
        "param_set_equal": true,
        "suspicious_uncertainties": [],
        "top_bestfit_param_diffs": [
          {
            "abs_diff": 0.00031101275707051657,
            "name": "ttbar_norm",
            "nextstat": 7.790184899120095e-05,
            "pyhf": -0.0002331109080793156
          },
          {
            "abs_diff": 0.00019655717158916712,
            "name": "bkg_shape",
            "nextstat": 0.0016631535234622925,
            "pyhf": 0.0018597106950514596
          },
          {
            "abs_diff": 8.472329120612354e-05,
            "name": "mu",
            "nextstat": 0.8640933359691538,
            "pyhf": 0.86417805926036
          },
          {
            "abs_diff": 1.7703481436370794e-05,
            "name": "staterror_SR[1]",
            "nextstat": 1.0023423308988957,
            "pyhf": 1.0023246274174593
          },
          {
            "abs_diff": 6.294856530919546e-06,
            "name": "staterror_SR[0]",
            "nextstat": 0.9981613696197852,
            "pyhf": 0.9981550747632543
          },
          {
            "abs_diff": 2.8627438277695205e-06,
            "name": "lumi",
            "nextstat": 1.0000109727318585,
            "pyhf": 1.0000081099880307
          },
          {
            "abs_diff": 1.480193604130875e-06,
            "name": "shapefactor_CR[1]",
            "nextstat": 1.0039106954444552,
            "pyhf": 1.0039121756380593
          },
          {
            "abs_diff": 3.20210639781493e-07,
            "name": "shapefactor_CR[0]",
            "nextstat": 1.0099894995812282,
            "pyhf": 1.0099891793705884
          }
        ]
      },
      "errors": [],
      "meta": {
        "measurement_name": "measurement",
        "n_channels": 2,
        "n_measurements": 1,
        "n_observations": 2,
        "n_params": 8,
        "version": "1.0.0"
      },
      "ok": true,
      "parity": {
        "cross_eval": {
          "nextstat_nll_at_pyhf_hat": 10.756571650422494,
          "pyhf_nll_at_nextstat_hat": 10.756571623675242
        },
        "nextstat_fit_status": {
          "converged": true,
          "n_fev": 31,
          "n_gev": 57,
          "n_iter": 26
        },
        "nll_hat": {
          "abs_diff": 2.6747121850689837e-08,
          "nextstat": 10.7565716236752,
          "pyhf": 10.756571650422321
        },
        "twice_nll_init": {
          "abs_diff": 3.410605131648481e-13,
          "nextstat": 21.61370419243329,
          "pyhf": 21.613704192432948
        },
        "twice_nll_shift": {
          "abs_diff": 3.552713678800501e-13,
          "nextstat": 108.55662363243309,
          "pyhf": 108.55662363243273
        }
      },
      "path": "tests/fixtures/complex_workspace.json",
      "reason": null,
      "timings": {
        "bench_nextstat_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 8.765608072280884e-07,
          "p50_s": 5.00120222568512e-07,
          "p90_s": 5.830079317092896e-07
        },
        "bench_pyhf_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 7.889674976468087e-05,
          "p50_s": 5.700020119547844e-05,
          "p90_s": 0.00011012470349669456
        },
        "load_json_s": 0.00021454179659485817,
        "nextstat_fit_s": 0.001492166891694069,
        "nextstat_model_s": 4.8292335122823715e-05,
        "nextstat_twice_nll_init_s": 0.00016762502491474152,
        "nextstat_twice_nll_shift_s": 1.4170072972774506e-06,
        "pyhf_fit_s": 0.010269917082041502,
        "pyhf_model_s": 0.007044749800115824,
        "pyhf_twice_nll_init_s": 0.00013695843517780304,
        "pyhf_twice_nll_shift_s": 6.77080824971199e-05
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "model",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_1d.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00020079221576452255
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "model",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_1d_missing.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00012483308091759682
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "model",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_2d_partial_missing.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.0001338338479399681
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "ar1",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_ar1.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.0001089172437787056
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "arma11",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_arma11.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 8.733291178941727e-05
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "local_level",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_local_level.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00012120930477976799
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "local_level_seasonal",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_local_level_seasonal.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00010016700252890587
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "local_linear_trend",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_local_linear_trend.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00011904072016477585
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "local_linear_trend_seasonal",
          "ys"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/kalman_local_linear_trend_seasonal.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00010912492871284485
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "data",
          "dgp_params",
          "expected",
          "model_config",
          "name",
          "seed"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/lmm_random_intercept.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.0002648327499628067
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "data",
          "dgp_params",
          "expected",
          "model_config",
          "name",
          "seed"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/lmm_random_intercept_slope.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.0001538749784231186
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "case",
          "dt",
          "k",
          "t0",
          "t1",
          "y0",
          "y1_analytic"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/ode_rk4_exp_decay.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.00010879198089241982
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "hist1",
          "hist_sw2",
          "subdir/nested_hist"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/simple_histos_expected.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 9.687477722764015e-05
      }
    },
    {
      "diffs": {
        "bestfit_max_abs_diff": 0.00015955880922635668,
        "param_set_equal": true,
        "suspicious_uncertainties": [],
        "top_bestfit_param_diffs": [
          {
            "abs_diff": 0.00015955880922635668,
            "name": "mu",
            "nextstat": 0.5245205740436321,
            "pyhf": 0.5243610152344057
          },
          {
            "abs_diff": 8.665075165170677e-06,
            "name": "uncorr_bkguncrt[1]",
            "nextstat": 0.9985470289704058,
            "pyhf": 0.9985383638952406
          },
          {
            "abs_diff": 2.9867670920946665e-06,
            "name": "uncorr_bkguncrt[0]",
            "nextstat": 1.0024312742430912,
            "pyhf": 1.002428287475999
          }
        ]
      },
      "errors": [],
      "meta": {
        "measurement_name": "GaussExample",
        "n_channels": 1,
        "n_measurements": 1,
        "n_observations": 1,
        "n_params": 3,
        "version": "1.0.0"
      },
      "ok": true,
      "parity": {
        "cross_eval": {
          "nextstat_nll_at_pyhf_hat": 12.358996943924808,
          "pyhf_nll_at_nextstat_hat": 12.358996897140287
        },
        "nextstat_fit_status": {
          "converged": true,
          "n_fev": 16,
          "n_gev": 26,
          "n_iter": 10
        },
        "nll_hat": {
          "abs_diff": 4.678366138932688e-08,
          "nextstat": 12.35899689714072,
          "pyhf": 12.358996943924382
        },
        "twice_nll_init": {
          "abs_diff": 9.094947017729282e-13,
          "nextstat": 25.15515866429496,
          "pyhf": 25.15515866429405
        },
        "twice_nll_shift": {
          "abs_diff": 7.958078640513122e-13,
          "nextstat": 31.3268208832842,
          "pyhf": 31.326820883283403
        }
      },
      "path": "tests/fixtures/simple_workspace.json",
      "reason": null,
      "timings": {
        "bench_nextstat_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 5.349889397621155e-07,
          "p50_s": 4.1583552956581116e-07,
          "p90_s": 4.5821070671081543e-07
        },
        "bench_pyhf_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 3.126667812466621e-05,
          "p50_s": 2.350006252527237e-05,
          "p90_s": 3.8374681025743484e-05
        },
        "load_json_s": 0.00013787532225251198,
        "nextstat_fit_s": 6.637535989284515e-05,
        "nextstat_model_s": 3.137486055493355e-05,
        "nextstat_twice_nll_init_s": 3.7080608308315277e-06,
        "nextstat_twice_nll_shift_s": 1.4579854905605316e-06,
        "pyhf_fit_s": 0.001425791997462511,
        "pyhf_model_s": 0.006768791936337948,
        "pyhf_twice_nll_init_s": 7.191672921180725e-05,
        "pyhf_twice_nll_shift_s": 3.187498077750206e-05
      }
    },
    {
      "diffs": {
        "bestfit_max_abs_diff": 0.273375087408044,
        "param_set_equal": true,
        "suspicious_uncertainties": [],
        "top_bestfit_param_diffs": [
          {
            "abs_diff": 0.273375087408044,
            "name": "JET_JER_EffectiveNP_8",
            "nextstat": -0.0949693862239881,
            "pyhf": -0.3683444736320321
          },
          {
            "abs_diff": 0.11606730495050362,
            "name": "JET_JER_EffectiveNP_1",
            "nextstat": 0.19689973986685433,
            "pyhf": 0.08083243491635071
          },
          {
            "abs_diff": 0.09266926778877262,
            "name": "JET_JER_EffectiveNP_11",
            "nextstat": 0.1641288479982998,
            "pyhf": 0.07145958020952718
          },
          {
            "abs_diff": 0.0865135532433704,
            "name": "JET_JER_EffectiveNP_3",
            "nextstat": -0.7186390227599657,
            "pyhf": -0.8051525760033361
          },
          {
            "abs_diff": 0.0782741662375566,
            "name": "wc_xsec_pos",
            "nextstat": 0.07261692544237573,
            "pyhf": 0.15089109167993234
          },
          {
            "abs_diff": 0.07599757439995308,
            "name": "MET_SoftTrk_ResoPara",
            "nextstat": 0.5206852757462629,
            "pyhf": 0.4446877013463098
          },
          {
            "abs_diff": 0.07409127399677823,
            "name": "weight_bTagSF_DL1r_60_C_0",
            "nextstat": 0.17241699861792656,
            "pyhf": 0.09832572462114833
          },
          {
            "abs_diff": 0.07220802930765816,
            "name": "shower_sitop_sh_CR",
            "nextstat": 0.05276918728441379,
            "pyhf": 0.12497721659207195
          },
          {
            "abs_diff": 0.07178569032199222,
            "name": "wccscale_mur",
            "nextstat": 1.209287422168278,
            "pyhf": 1.1375017318462857
          },
          {
            "abs_diff": 0.05177270297912018,
            "name": "EG_RESOLUTION_ALL",
            "nextstat": -0.2501728352777218,
            "pyhf": -0.30194553825684195
          },
          {
            "abs_diff": 0.051633844957911124,
            "name": "JET_JER_EffectiveNP_4",
            "nextstat": 0.3315267750032664,
            "pyhf": 0.3831606199611775
          },
          {
            "abs_diff": 0.05027308385353291,
            "name": "swtchan_DS",
            "nextstat": -0.3283706952820024,
            "pyhf": -0.2780976114284695
          },
          {
            "abs_diff": 0.04652201316343463,
            "name": "shower_swtchan_shape",
            "nextstat": 0.3206654925498299,
            "pyhf": 0.36718750571326453
          },
          {
            "abs_diff": 0.04455812986511701,
            "name": "JET_EffectiveNP_Statistical2",
            "nextstat": -0.19352493717138058,
            "pyhf": -0.2380830670364976
          },
          {
            "abs_diff": 0.03983017479835815,
            "name": "zjetsdiboson_xsec",
            "nextstat": 0.36831598826850626,
            "pyhf": 0.3284858134701481
          },
          {
            "abs_diff": 0.03736225768966828,
            "name": "fakes_sh_mub_SR",
            "nextstat": -0.7316099454824653,
            "pyhf": -0.694247687792797
          },
          {
            "abs_diff": 0.035131039657668915,
            "name": "PDF4LHC24",
            "nextstat": 0.031820536542277206,
            "pyhf": -0.003310503115391712
          },
          {
            "abs_diff": 0.034120013949633335,
            "name": "JET_Pileup_OffsetNPV",
            "nextstat": 0.10824608472057105,
            "pyhf": 0.07412607077093772
          },
          {
            "abs_diff": 0.03380452590475794,
            "name": "shower_ttbar_shape",
            "nextstat": -0.13859628404708293,
            "pyhf": -0.17240080995184087
          },
          {
            "abs_diff": 0.03248700113590863,
            "name": "wccscale_muf",
            "nextstat": -0.38555266626686546,
            "pyhf": -0.4180396674027741
          }
        ]
      },
      "errors": [],
      "meta": {
        "measurement_name": "vb23",
        "n_channels": 8,
        "n_measurements": 1,
        "n_observations": 8,
        "n_params": 277,
        "version": "1.0.0"
      },
      "ok": true,
      "parity": {
        "cross_eval": {
          "nextstat_nll_at_pyhf_hat": 307.35077859798224,
          "pyhf_nll_at_nextstat_hat": 307.40468607193105
        },
        "nextstat_fit_status": {
          "converged": false,
          "n_fev": 1103,
          "n_gev": 2103,
          "n_iter": 1000
        },
        "nll_hat": {
          "abs_diff": 0.05390747480464597,
          "nextstat": 307.4046860724378,
          "pyhf": 307.35077859763317
        },
        "twice_nll_init": {
          "abs_diff": 1.4672423276351765e-09,
          "nextstat": 1323.3990487218555,
          "pyhf": 1323.3990487203882
        },
        "twice_nll_shift": {
          "abs_diff": 1.2514647096395493e-09,
          "nextstat": 144141.1878313894,
          "pyhf": 144141.18783138815
        }
      },
      "path": "tests/fixtures/tchannel_workspace.json",
      "reason": null,
      "timings": {
        "bench_nextstat_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 0.00010475337505340576,
          "p50_s": 0.00010145828127861023,
          "p90_s": 0.00010591745376586914
        },
        "bench_pyhf_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 0.0012138967029750346,
          "p50_s": 0.0011921250261366367,
          "p90_s": 0.001308041624724865
        },
        "load_json_s": 0.013433374930173159,
        "nextstat_fit_s": 24.687966000288725,
        "nextstat_model_s": 0.02501437533646822,
        "nextstat_twice_nll_init_s": 0.00017974991351366043,
        "nextstat_twice_nll_shift_s": 0.00011199992150068283,
        "pyhf_fit_s": 90.26183720771223,
        "pyhf_model_s": 1.3045760421082377,
        "pyhf_twice_nll_init_s": 0.0020055831409990788,
        "pyhf_twice_nll_shift_s": 0.0013262499123811722
      }
    },
    {
      "diffs": {},
      "errors": [
        {
          "traceback": "Traceback (most recent call last):\n  File \"/Users/andresvlc/WebDev/nextstat.io/tests/audit_pyhf_parity.py\", line 147, in audit_workspace\n    ws = _load_json(workspace_path)\n  File \"/Users/andresvlc/WebDev/nextstat.io/tests/audit_pyhf_parity.py\", line 45, in _load_json\n    return json.loads(path.read_text())\n           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/Cellar/python@3.13/3.13.11/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py\", line 352, in loads\n    return _default_decoder.decode(s)\n           ~~~~~~~~~~~~~~~~~~~~~~~^^^\n  File \"/opt/homebrew/Cellar/python@3.13/3.13.11/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/decoder.py\", line 348, in decode\n    raise JSONDecodeError(\"Extra data\", s, end)\njson.decoder.JSONDecodeError: Extra data: line 1 column 7 (char 6)\n",
          "where": "load_json"
        }
      ],
      "meta": {},
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/tschannel_workspace.json",
      "reason": "json_parse_error",
      "timings": {}
    },
    {
      "diffs": {
        "bestfit_max_abs_diff": 0.03694967543356387,
        "param_set_equal": true,
        "suspicious_uncertainties": [],
        "top_bestfit_param_diffs": [
          {
            "abs_diff": 0.03694967543356387,
            "name": "NF_ttW",
            "nextstat": 1.5968776686662551,
            "pyhf": 1.5599279932326913
          },
          {
            "abs_diff": 0.02902292396363615,
            "name": "mu_signal",
            "nextstat": 2.046504019085144,
            "pyhf": 2.0174810951215076
          },
          {
            "abs_diff": 0.023960574252631206,
            "name": "NF_ttbar_CO",
            "nextstat": 1.6361896910440727,
            "pyhf": 1.6122291167914415
          },
          {
            "abs_diff": 0.01862021539059633,
            "name": "NF_ttbar_HFm",
            "nextstat": 1.0911044930037903,
            "pyhf": 1.072484277613194
          },
          {
            "abs_diff": 0.01577058600442971,
            "name": "NF_ttbar_gstr",
            "nextstat": 0.9501913663240141,
            "pyhf": 0.9344207803195844
          },
          {
            "abs_diff": 0.014756321860529886,
            "name": "NF_ttbar_HFe",
            "nextstat": 0.8689757202528657,
            "pyhf": 0.8542193983923358
          },
          {
            "abs_diff": 0.01418163786379334,
            "name": "lumi",
            "nextstat": 0.9858183621362067,
            "pyhf": 1.0
          },
          {
            "abs_diff": 0.0047471117022293285,
            "name": "ttZ_Gen",
            "nextstat": 0.17573848996459393,
            "pyhf": 0.18048560166682326
          },
          {
            "abs_diff": 0.004665533759001916,
            "name": "ttbar_Xsec_light",
            "nextstat": -0.28323321537089907,
            "pyhf": -0.287898749129901
          },
          {
            "abs_diff": 0.004090736622066098,
            "name": "ATLAS_JES_Flavor_Composition",
            "nextstat": -0.050773227946021106,
            "pyhf": -0.0548639645680872
          },
          {
            "abs_diff": 0.0032913808773466155,
            "name": "ttH_Xsec",
            "nextstat": -0.05086236756411501,
            "pyhf": -0.054153748441461626
          },
          {
            "abs_diff": 0.0032058373013377217,
            "name": "ATLAS_JER_EffectiveNP_1",
            "nextstat": 0.2837897902307608,
            "pyhf": 0.2869956275320985
          },
          {
            "abs_diff": 0.0031925437380440624,
            "name": "ATLAS_JER_EffectiveNP_2",
            "nextstat": 0.3038619549142299,
            "pyhf": 0.30705449865227397
          },
          {
            "abs_diff": 0.0027973135405066074,
            "name": "ATLAS_JER_EffectiveNP_7restTerm",
            "nextstat": 0.15007620668572852,
            "pyhf": 0.15287352022623513
          },
          {
            "abs_diff": 0.0027712853921135344,
            "name": "ttH_Gen",
            "nextstat": 0.10360077981461528,
            "pyhf": 0.10637206520672882
          },
          {
            "abs_diff": 0.002647172147974289,
            "name": "ttZ_Xsec",
            "nextstat": -0.10902237101204204,
            "pyhf": -0.11166954316001633
          },
          {
            "abs_diff": 0.0025751020463855856,
            "name": "ttW_Syst_Ext_2b7j",
            "nextstat": 0.18018908600130432,
            "pyhf": 0.17761398395491873
          },
          {
            "abs_diff": 0.0025712411533892754,
            "name": "ATLAS_JER_EffectiveNP_3",
            "nextstat": 0.24753954701687284,
            "pyhf": 0.2501107881702621
          },
          {
            "abs_diff": 0.002524927569583252,
            "name": "ttW_varRF",
            "nextstat": 0.09399896389353339,
            "pyhf": 0.09652389146311664
          },
          {
            "abs_diff": 0.0023126064051689488,
            "name": "ATLAS_JES_Pileup_RhoTopology",
            "nextstat": 0.02978670458776512,
            "pyhf": 0.02747409818259617
          }
        ]
      },
      "errors": [],
      "meta": {
        "measurement_name": "FourTop",
        "n_channels": 5,
        "n_measurements": 1,
        "n_observations": 5,
        "n_params": 249,
        "version": "1.0.0"
      },
      "ok": true,
      "parity": {
        "cross_eval": {
          "nextstat_nll_at_pyhf_hat": 287.5123045405799,
          "pyhf_nll_at_nextstat_hat": 287.5021329244902
        },
        "nextstat_fit_status": {
          "converged": true,
          "n_fev": 192,
          "n_gev": 371,
          "n_iter": 179
        },
        "nll_hat": {
          "abs_diff": 0.010171616087177426,
          "nextstat": 287.50213292449087,
          "pyhf": 287.51230454057804
        },
        "twice_nll_init": {
          "abs_diff": 1.0231815394945443e-11,
          "nextstat": 613.9217077881364,
          "pyhf": 613.9217077881261
        },
        "twice_nll_shift": {
          "abs_diff": 1.3642420526593924e-12,
          "nextstat": 1258.7653941899816,
          "pyhf": 1258.7653941899803
        }
      },
      "path": "tests/fixtures/tttt-prod_workspace.json",
      "reason": null,
      "timings": {
        "bench_nextstat_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 3.5206768661737445e-05,
          "p50_s": 3.0332710593938828e-05,
          "p90_s": 4.329206421971321e-05
        },
        "bench_pyhf_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 0.0010649984516203402,
          "p50_s": 0.0009978334419429302,
          "p90_s": 0.0012735412456095219
        },
        "load_json_s": 0.003986875060945749,
        "nextstat_fit_s": 0.6446263752877712,
        "nextstat_model_s": 0.004502665717154741,
        "nextstat_twice_nll_init_s": 4.295818507671356e-05,
        "nextstat_twice_nll_shift_s": 5.154125392436981e-05,
        "pyhf_fit_s": 20.884091000072658,
        "pyhf_model_s": 0.41721600014716387,
        "pyhf_twice_nll_init_s": 0.001272750087082386,
        "pyhf_twice_nll_shift_s": 0.0012175831943750381
      }
    },
    {
      "diffs": {},
      "errors": [],
      "meta": {
        "keys": [
          "analyses",
          "data",
          "distributions",
          "domains",
          "likelihoods",
          "metadata",
          "misc",
          "parameter_points"
        ]
      },
      "ok": false,
      "parity": {},
      "path": "tests/fixtures/workspace-postFit_PTV.json",
      "reason": "not_pyhf_workspace",
      "timings": {
        "load_json_s": 0.08109804196283221
      }
    },
    {
      "diffs": {
        "bestfit_max_abs_diff": 0.07747375832460368,
        "param_set_equal": true,
        "suspicious_uncertainties": [],
        "top_bestfit_param_diffs": [
          {
            "abs_diff": 0.07747375832460368,
            "name": "NF_VV3lbc",
            "nextstat": 1.331840127303779,
            "pyhf": 1.4093138856283827
          },
          {
            "abs_diff": 0.06831504796531962,
            "name": "NFttbarW",
            "nextstat": 1.080882731089577,
            "pyhf": 1.1491977790548966
          },
          {
            "abs_diff": 0.055926240923802495,
            "name": "NFHFdecay_e",
            "nextstat": 0.9901805162947356,
            "pyhf": 1.046106757218538
          },
          {
            "abs_diff": 0.046345568998400255,
            "name": "NFttbarZ",
            "nextstat": 1.1126115316432954,
            "pyhf": 1.1589571006416957
          },
          {
            "abs_diff": 0.0448624946431076,
            "name": "qmisID_stat",
            "nextstat": -0.02449537823455502,
            "pyhf": 0.020367116408552582
          },
          {
            "abs_diff": 0.04424128237242664,
            "name": "NFHFdecay_mu",
            "nextstat": 0.8917288196380592,
            "pyhf": 0.9359701020104858
          },
          {
            "abs_diff": 0.04245951795403613,
            "name": "JET_Pileup_RhoTopology",
            "nextstat": -0.6715778121514966,
            "pyhf": -0.7140373301055327
          },
          {
            "abs_diff": 0.036889999988731485,
            "name": "qmisID_nonClosure",
            "nextstat": -0.05666004680851658,
            "pyhf": -0.019770046819785093
          },
          {
            "abs_diff": 0.03494243758505089,
            "name": "lumi",
            "nextstat": 1.034942437585051,
            "pyhf": 1.0
          },
          {
            "abs_diff": 0.03443542810088173,
            "name": "qmisID_Zwindow",
            "nextstat": -0.07944685690015618,
            "pyhf": -0.04501142879927445
          },
          {
            "abs_diff": 0.03414989997101538,
            "name": "JET_JER_EffectiveNP_8",
            "nextstat": 0.07096632039673861,
            "pyhf": 0.03681642042572324
          },
          {
            "abs_diff": 0.025295979574042365,
            "name": "photon_conv_xsec",
            "nextstat": -0.12979373845150702,
            "pyhf": -0.10449775887746465
          },
          {
            "abs_diff": 0.024535807949267574,
            "name": "VV_4lbc_xsec",
            "nextstat": 0.5502974753439831,
            "pyhf": 0.5257616673947155
          },
          {
            "abs_diff": 0.023811710133082538,
            "name": "ttbar_hdamp",
            "nextstat": 0.05434106022476679,
            "pyhf": 0.07815277035784933
          },
          {
            "abs_diff": 0.022605509610512275,
            "name": "ttbar_PhHw7",
            "nextstat": -0.37592132445579396,
            "pyhf": -0.3533158148452817
          },
          {
            "abs_diff": 0.021827221564321465,
            "name": "ttbarW_ISR_mur",
            "nextstat": 0.027414860500195655,
            "pyhf": 0.04924208206451712
          },
          {
            "abs_diff": 0.020809604201612708,
            "name": "ttbarW_Py8_vs_Hw7",
            "nextstat": -0.290781865573203,
            "pyhf": -0.3115914697748157
          },
          {
            "abs_diff": 0.019271865021554174,
            "name": "ttbar_pThard",
            "nextstat": -0.15907529013924865,
            "pyhf": -0.13980342511769447
          },
          {
            "abs_diff": 0.018633509747418175,
            "name": "weight_bTagSF_DL1r_Continuous_eigenvars_B_0",
            "nextstat": -0.34392349931445426,
            "pyhf": -0.3252899895670361
          },
          {
            "abs_diff": 0.017147460741786524,
            "name": "JET_JER_EffectiveNP_1",
            "nextstat": -0.14822300018324833,
            "pyhf": -0.16537046092503485
          }
        ]
      },
      "errors": [],
      "meta": {
        "measurement_name": "tHq_ML_utH_syst",
        "n_channels": 11,
        "n_measurements": 1,
        "n_observations": 11,
        "n_params": 184,
        "version": "1.0.0"
      },
      "ok": true,
      "parity": {
        "cross_eval": {
          "nextstat_nll_at_pyhf_hat": 179.4853178920649,
          "pyhf_nll_at_nextstat_hat": 179.40433766561395
        },
        "nextstat_fit_status": {
          "converged": true,
          "n_fev": 241,
          "n_gev": 467,
          "n_iter": 226
        },
        "nll_hat": {
          "abs_diff": 0.0809802264482471,
          "nextstat": 179.40433766561446,
          "pyhf": 179.4853178920627
        },
        "twice_nll_init": {
          "abs_diff": 1.0231815394945443e-12,
          "nextstat": 520.6823796898871,
          "pyhf": 520.6823796898881
        },
        "twice_nll_shift": {
          "abs_diff": 5.4569682106375694e-12,
          "nextstat": 2052.2801044041676,
          "pyhf": 2052.280104404173
        }
      },
      "path": "tests/fixtures/workspace_tHu.json",
      "reason": null,
      "timings": {
        "bench_nextstat_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 3.950996324419975e-05,
          "p50_s": 3.845803439617157e-05,
          "p90_s": 3.920774906873703e-05
        },
        "bench_pyhf_twice_nll_init": {
          "iters": 25.0,
          "mean_s": 0.0005817684158682823,
          "p50_s": 0.0005742497742176056,
          "p90_s": 0.0006214999593794346
        },
        "load_json_s": 0.013933958951383829,
        "nextstat_fit_s": 1.6528086671605706,
        "nextstat_model_s": 0.007729958742856979,
        "nextstat_twice_nll_init_s": 5.4208096116781235e-05,
        "nextstat_twice_nll_shift_s": 5.145883187651634e-05,
        "pyhf_fit_s": 10.018178917001933,
        "pyhf_model_s": 0.6736962497234344,
        "pyhf_twice_nll_init_s": 0.0009041246958076954,
        "pyhf_twice_nll_shift_s": 0.0006457921117544174
      }
    }
  ]
}
